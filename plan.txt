commandes obligatoires de base (PASS, NICK, USER, JOIN, PRIVMSG, QUIT, etc.)

ce quâ€™est un serveur IRC : Un serveur IRC = le â€œchef dâ€™orchestreâ€ des conversations, qui fait circuler les messages, gÃ¨re les channels et les droits, et permet aux clients IRC de communiquer entre eux.

la notion de channel : 
Un channel = un salon de discussion sur le serveur IRC
- Il a un nom (#nom)
- Il contient des membres
- il peut avoir des modes et un topic
- Certains membres peuvent Ãªtre opÃ©rateurs avec des droits spÃ©ciaux

la diffÃ©rence entre client â†” serveur et client â†” client (via serveur)

ğŸ‘‰ Astuce : testez dÃ©jÃ  avec nc ou irssi pour voir comment un vrai serveur rÃ©pond.



ğŸ§± 2. Base technique du serveur

Objectif : un serveur qui Ã©coute et accepte des connexions

Socket TCP (socket, bind, listen, accept)

Serveur non bloquant

poll() cest top 

GÃ©rer plusieurs clients en mÃªme temps

DÃ©tecter :

connexion

dÃ©connexion

message reÃ§u

Ã€ ce stade :
âœ”ï¸ les clients peuvent se connecter
âŒ ils ne se parlent pas encore

ğŸ‘¤ 3. Gestion des clients

CrÃ©er une structure Client :

fd

nickname

username

statut (authentifiÃ© ou pas)

buffer de rÃ©ception

ImplÃ©menter :

PASS

NICK

USER

ğŸ‘‰ Tant que PASS + NICK + USER pas validÃ©s â†’ le client ne peut rien faire.

ğŸ’¬ 4. Parsing des commandes

TrÃ¨s important ğŸ”¥

Lire ligne par ligne (\r\n)

Parser :

commande

paramÃ¨tres

Dispatcher vers la bonne fonction

Ex :

PRIVMSG bob :salut bg

ğŸ  5. Gestion des channels

CrÃ©er une structure Channel :

nom (#42)

liste des clients

opÃ©rateurs

modes (au minimum ceux demandÃ©s)

ImplÃ©menter Les commandes opÃ©rateur :

JOIN

PART

TOPIC

MODE

KICK 

âœ‰ï¸ 6. Messages

PRIVMSG entre deux clients

PRIVMSG vers un channel

Diffuser correctement Ã  tous les membres concernÃ©s

Respecter le format IRC

ğŸ§¹ 7. Gestion des erreurs & cas relous

Nick dÃ©jÃ  pris

Commande inconnue

Mauvais nombre dâ€™arguments

Client pas authentifiÃ©

Client qui quitte brutalement

ğŸ§ª 8. Tests intensifs

nc localhost port

irssi

Plusieurs clients en mÃªme temps

Tester les erreurs exprÃ¨s ğŸ˜ˆ

âœ¨ 9. Bonus (si vous avez la foi)

Bot IRC

Messages automatiques

Logs

Commandes fun